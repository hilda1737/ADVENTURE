/*! For license information please see conversation-bundle.js.LICENSE.txt */
(()=>{"use strict";var e,t,n,r,o,i,a={4984:(e,t,n)=>{n.r(t),n.d(t,{attachListener:()=>Qe,buildAdminDashboardUrl:()=>Pe,checkBrowser:()=>K,conversationPageBackToCommentsEnabled:()=>Te,copyToClipboard:()=>pe,createEventListenerGroup:()=>He,dispatchCustomEvent:()=>ie,dispatchEvent:()=>te,dispatchInternalEvent:()=>De,dispatchSpotimEvent:()=>ae,formatLanguageCode:()=>Y,formatToLocaleString:()=>Ye,getAsyncCallConfigs:()=>Be,getCloudinaryUrl:()=>Oe,getCurrentScrollPosition:()=>W,getCustomPublisherData:()=>de,getDebugger:()=>ke,getDynamicTranslations:()=>Me,getLocation:()=>le,getPostId:()=>qe,guid:()=>Q,initScrollListener:()=>B,isInIframe:()=>ee,isInSafeframe:()=>N,isMobileDevice:()=>Ue,isOldBrowser:()=>Z,isUnsupportedBrowser:()=>X,isWebpSupported:()=>we,isWebpSupportedAsync:()=>ye,listenOnce:()=>ze,loadJSFile:()=>Ve,navigate:()=>fe,navigateSafeframe:()=>me,parseNumber:()=>z,prettyDate:()=>Se,subscribeInternalEvent:()=>Ne,subscribeToVisibilityChange:()=>J,tooltipDate:()=>Ie});var r=n(659),o=n.n(r),i=n(655);function a(e){return e.toLowerCase()}var s=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],u=/[^A-Z0-9]+/gi;function l(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce((function(e,t){return e.replace(t,n)}),e)}var c={angle:"a",rotate:"a",background:"b",color:"co",colorSpace:"cs",customFunction:"fn",defaultImage:"d",density:"dn",dpr:"dpr",opacity:"o",format:"f",gravity:"g",overlay:"l",page:"pg",prefix:"p",quality:"q",radius:"r",bitRate:"br",keyframeInterval:"ki",audioCodec:"ac",audioFrequency:"af",delay:"dl",ocr:"ocr",streamingProfile:"sp",transformation:"t",underlay:"u",videoCodec:"vc",videoSampling:"vs",zoom:"z"},d={"=":"eq","!=":"ne","<":"lt",">":"gt","<=":"lte",">=":"gte","&&":"and","||":"or","*":"mul","/":"div","+":"add","-":"sub","^":"pow"},p={width:"w",height:"h",x:"x",y:"y",quality:"q",if:"if",aspectRatio:"ar",rotate:"a",opacity:"o",radius:"r",dpr:"dpr",effect:"e",border:"bo",currentPage:"cp",preview:"preview:duration",duration:"du",faceCount:"fc",initialAspectRatio:"iar",initialDuration:"idu",initialHeight:"ih",initialWidth:"iw",pageCount:"pc",pageX:"px",pageY:"py",tags:"tags"},f="("+Object.keys(p).join("|")+")",m=["quality","if","rotate","zoom","opacity","radius","effect","dpr"],_={equal:"eq",notEqual:"ne",lessThan:"lt",greaterThan:"gt",lessOrEqual:"lte",greaterOrEqual:"gte",include:"in",notInclude:"nin"},v={width:"w",initialWidth:"iw",height:"h",initialHeight:"ih",aspectRatio:"ar",intialAspectRatio:"iar",context:"ctx",metadata:"md",tags:"tags",trimmedAspectRatio:"tar",currentPage:"cp",faceCount:"fc",pageCount:"pc",pageXOffset:"px",pageYOffset:"py",initialDensity:"idn",illustration:"ils",pageNames:"pgnames"},h=function(e,t){return void 0===t&&(t=":"),e.filter(Boolean).join(t)},g=function(e){var t=e.expression?h(e.expression.map((function(e){return w(e)})),"_and_"):"",n=e.transformations.map((function(e){return T(M(e))}));return{expression:t,transformations:h(n,"/")}},y=function(e){return v[e]||e},w=function(e){var t=Array.isArray(e.characteristic)?h(e.characteristic.map(y)):y(e.characteristic),n=_[e.operator],r=isNaN(e.value)?"!"+e.value+"!":e.value;return h([t,n,r],"_")},b={integer:"to_i",float:"to_f"},A="((\\|\\||>=|<=|&&|!=|>|=|<|/|-|\\+|\\*|\\^)(?=[ _]))",O=function(e){return isNaN(e)?S(e):e},S=function(e){return e?function(e){var t=new RegExp(f,"g");return e.replace(t,(function(t,n,r){return"$"===e[r-1]?t:p[t]}))}((t=e,n=new RegExp(A,"g"),t.replace(n,(function(e){return d[e]})))).replace(/[ _]+/g,"_"):"";var t,n},I={context:"ctx",structureMetadata:"md"},x=function(e){var t="$"+e.name,n=e.value;isNaN(e.value)&&(n=Array.isArray(e.value)?h(e.value):function(e){if(!e||!e.expression)return"";var t=Array.isArray(e.expression)?h(e.expression):e.expression,n=function(e){return new RegExp(A,"g").test(e)}(t),r=S(t),o=b[e.formatAs]||"";return h([r&&!n?"!"+r+"!":r,o],"_")}(e.value));var r=h([I[e.assignFrom],n],":");return r?h([t,r],"_"):""},E=function(e){var t,n=[];for(var r in n.push(function(e){return e?Array.isArray(e)?h(e.map((function(e){return x(e)})),","):x(e):""}(e.variables)),n.push(function(e){var t,n,r,o,i;return e.resize||e.width||e.height||e.aspectRatio?(n=(t=e.resize||{width:e.width,height:e.height,type:e.crop,aspectRatio:e.aspectRatio}).type,r=t.width,o=t.height,i=t.aspectRatio,[n?"c_"+n:"",r?"w_"+O(r):"",o?"h_"+O(o):"",i?"ar_"+O(i):""].filter(Boolean).join()):""}(e)),n.push(function(e){return e.border?"string"==typeof e.border?"bo_"+e.border:(r=void 0===(n=(t=e.border).type)?"solid":n,i=void 0===(o=t.color)?"black":o,(a=t.width)?"bo_"+(isNaN(a)?S(a):a+"px")+"_"+r+"_"+i:""):"";var t,n,r,o,i,a}(e)),n.push(function(e){return e.x||e.y||e.position?(n=(t=e.position||{x:e.x,y:e.y}).x,r=t.y,[n?"x_"+O(n):"",r?"y_"+O(r):""].filter(Boolean).join()):"";var t,n,r}(e)),n.push(function(e){var t="object"==typeof e;return!e||t&&!e.min?"":"fps_"+(t?h([e.min,e.max],"-"):e)}(e.fps)),n.push((t=e.offset)?[t.start?"so_"+t.start:"",t.end?"eo_"+t.end:"",t.duration?"du_"+t.duration:""].filter(Boolean).join(","):""),e){var o=e[r],i=c[r];if(i&&o){var a=m.includes(r);n.push(i+"_"+(a?O(o):o))}}return n.push(function(e){var t="string"==typeof e;if(!e||!t&&!e.name)return"";if(t||!e.value)return"e_"+(e.name||e);var n=Array.isArray(e.value)?e.value.join(":"):e.value;return"e_"+h([e.name,n])}(e.effect)),n.push(function(e){return e&&0!==e.length?"fl_"+("string"==typeof e?e:e.join(":")):""}(e.flags)),n.push(e.rawTransformation),n.push(function(e){if(!e||!e.if||!e.if.expression)return"";var t=g(e.if),n=e.else?g(e.else):null,r=h(["if_"+t.expression,t.transformations],"/"),o=n?h(["if_else",n.transformations],"/"):"";return[h([r,o,"if_end"],"/")]}(e.condition)),n.filter(Boolean)},P=function(e){var t=E(e),n=e.transformation||e.chaining;return n&&Array.isArray(n)&&n.forEach((function(e){var n=E(e);n.length>0&&t.push(n)})),t.filter(Boolean)},T=function(e){return e.reduce((function(e,t){var n=Array.isArray(t);return e+(e?n?"/":",":"")+t.toString()}),"")},M=P,C=P,j=n(5951),R=n.n(j),k=n(2519),N=function(){return window.top!==window&&!!window.$sf},D=0,L=!1,B=function(e,t){var n=N(),r=W(n),o=U(n),i=F(n);D=0,L=!1,r>20||i?e(t):o?n?$(e,t):G(e,t):setTimeout((function(){e(t)}),0)},U=function(e){var t,n,r,o;return e?null===(t=100!==(null===(n=window.$sf)||void 0===n||null===(r=n.ext)||void 0===r||null===(o=r.inViewPercentage)||void 0===o?void 0:o.call(r)))||void 0===t||t:(document.documentElement.scrollHeight||document.body.scrollHeight)>window.innerHeight+20},q=function(){return document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset},F=function(e){var t,n,r;return!!e&&(null===(t=window.$sf)||void 0===t||null===(n=t.ext)||void 0===n||null===(r=n.inViewPercentage)||void 0===r?void 0:r.call(n))>0},W=function(e){if(e){var t=window.$sf.ext.geom(),n=t.par,r=t.win;return n.t||n.b-r.h}return q()},G=function(e,t){var n=function n(){e(t),window.removeEventListener("resize",n),window.removeEventListener("scroll",r)},r=function r(){!function(e,t,n,r){D=q(),L||(window.requestAnimationFrame((function(){!function(e,t,n,r,o){e>=20&&(window.removeEventListener("resize",r),window.removeEventListener("scroll",n),t(o))}(D,e,t,n,r),L=!1})),L=!0)}(e,r,n,t)};window.addEventListener("scroll",r,{passive:!0}),window.addEventListener("resize",n)},$=function(e,t){document.addEventListener("geom-update",(function n(){W(!0)>=20&&(document.removeEventListener("geom-update",n),e(t))}))};function H(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function Q(){var e=H;return e()+e()+e()+e()+e()+e()+e()+e()}function z(e){for(var t=[{value:1e18,symbol:"E"},{value:1e15,symbol:"P"},{value:1e12,symbol:"T"},{value:1e9,symbol:"G"},{value:1e6,symbol:"M"},{value:1e3,symbol:"K"},{value:1,symbol:""}],n=t[t.length-1],r=0,o=t;r<o.length;r++){var i=o[r];if(Math.abs(e)>=i.value){n=i;break}}return(e/n.value).toFixed(1).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+n.symbol}var V={es_419:"es-419",es_ES:"es-ES",zh_CN:"zh-Hans-CN",zh_TW:"zh-Hant-TW",th_TH:"th",en_GB:"en"};function Y(e){return V[e]||e}function J(e,t){function n(){document.hidden?t():e()}return document.addEventListener("visibilitychange",n),function(){document.removeEventListener("visibilitychange",n)}}function K(){var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?{name:"IE",version:(e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||""}:"Chrome"===n[1]?(e=t.match(/\b(OPR|Edge?)\/(\d+)/))?{name:e[1].replace("OPR","Opera").replace("Edg ","Edge ")||"",version:e[2]||""}:{name:"Chrome",version:n[2]}:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),{name:n[0],version:n[1]})}function X(){var e=K(),t=parseInt(e.version.split(".")[0]),n=("Edge"===e.name||"Edg"===e.name)&&t<80,r=!!window.navigator.userAgent.match(/(MSIE|Trident)/),o=!!window.navigator.userAgent.match(/(Waterfox|waterfox)/);return n||r||o}function Z(){var e=K();if(!e.version)return!0;var t=parseInt(e.version.split(".")[0]),n=!0;switch(e.name){case"Chrome":n=t<66;break;case"Safari":n=t<13;break;case"Firefox":n=t<60;break;case"Edge":case"Edg":n=t<80}return n}var ee=function(){return window.top!==window.self};function te(e,t,n){e.dispatchEvent(new Event(t,n))}function ne(){return(ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ie(e,t,n,r){e.dispatchEvent(new CustomEvent(t,ne({},r,{detail:n})));var i=o().safeframe.sendMessageToHost;N()&&i&&i({action:"spotim_event",args:{type:t,params:n||{}}})}function ae(e,t){ie(document,e,t),function(e,t){void 0===t&&(t={}),ie(document,"ow-sdk-event",{type:e,payload:t})}(e,t)}var se=window.location,ue=function(e){void 0===e&&(e=document.referrer);try{return new URL(e)}catch(e){return se}},le=function(){return N()?ue(o().safeframe.hostUrl):ee()?ue(o().config.hostUrl):se},ce="custom",de=function(e){var t=Object.keys(e.dataset),n=ne({},e.dataset);return t.reduce((function(e,t){return t.startsWith(ce)?(e[(r=t.slice(ce.length),void 0===o&&(o={}),function(e,t){return void 0===t&&(t={}),function(e,t){void 0===t&&(t={});for(var n=t.splitRegexp,r=void 0===n?s:n,o=t.stripRegexp,i=void 0===o?u:o,c=t.transform,d=void 0===c?a:c,p=t.delimiter,f=void 0===p?" ":p,m=l(l(e,r,"$1\0$2"),i,"\0"),_=0,v=m.length;"\0"===m.charAt(_);)_++;for(;"\0"===m.charAt(v-1);)v--;return m.slice(_,v).split("\0").map(d).join(f)}(e,(0,i.__assign)({delimiter:"."},t))}(r,(0,i.__assign)({delimiter:"_"},o)))]=n[t],e):e;var r,o}),{})};function pe(e){!function(e){var t=document.createElement("span");t.textContent=e,document.body.appendChild(t);var n=window.getSelection(),r=window.document.createRange();null==n||n.removeAllRanges(),r.selectNode(t),null==n||n.addRange(r);try{window.document.execCommand("copy")}catch(e){}null==n||n.removeAllRanges(),window.document.body.removeChild(t)}(e);var t=o().safeframe.sendMessageToHost;N()&&t&&t({action:"clipboard_write",args:{text:e}})}function fe(e){N()?me(e):window.location.href=e}function me(e){var t=o().safeframe.sendMessageToHost;N()&&t&&t({action:"navigate",args:{url:e}})}var _e,ve=[{uri:"data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=",name:"webp"},{uri:"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",name:"alpha"},{uri:"data:image/webp;base64,UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA",name:"animation"},{uri:"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",name:"lossless"}],he=function(e){return new Promise((function(t){var n=new Image;function r(e){var r="load"===(null==e?void 0:e.type)&&1===n.width;t({result:r,event:e})}n.onerror=r,n.onload=r,n.src=e}))},ge={webp:!1},ye=function(){return _e||(_e=new Promise((function(e){try{var t=[],n=ve.shift();return Promise.resolve(he(n.uri)).then((function(r){var o=r.result,i=r.event;if(ge[n.name]=o,"load"===(null==i?void 0:i.type))for(var a,s=function(){var e=a.value,n=he(e.uri).then((function(t){var n=t.result;return ge[e.name]=n}));t.push(n)},u=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(ve);!(a=u()).done;)s();return Promise.resolve(Promise.all(t)).then((function(){e(ge)}))}))}catch(e){return Promise.reject(e)}})))},we=function(){return ge},be="https://images.spot.im",Ae=be+"/image/upload",Oe=function(e){var t=ne({},{quality:50,dpr:3},e);if(!t.url&&!t.pathname)throw new Error("missing required argument `options.url` or `options.pathname`");var n=t.pathname||new URL(t.url).pathname,r=n.split("/").slice(2),o=we().webp?"webp":"png",i=t.extension?"."+t.extension:"",a="png"===o,s=["fl_lossy"],u=ne({},function(e){var t=e.width,n=e.height,r=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["url","width","height","getUrl","pathname"]);return ne({},r,{resize:ne({width:t,height:n},r.resize)})}(t),{format:o}),l=C(u).concat(s).toString();a&&(l+=",fl_png8");var c=n.startsWith("/")?n.slice(1):n;return t.getUrl?t.getUrl({extension:i,baseUrl:be,baseUrlUpload:Ae,pathname:c,transformations:l,pathnameExtension:""+c+i}):[be,l].concat(r).filter(Boolean).join("/").concat(i||"")};function Se(e){var t=e.date,n=e.longDate,r=e.t,o=e.dateFormat,i=e.enableDateFormat,a=86400,s=7*a,u=52*s,l=null==t?void 0:t.getTime(),c=(Date.now()-l)/1e3,d=null,p=n?"long":"short";if(!l||isNaN(c))d="";else if(c<14)d=r("prettyDate."+("short"===p?"shortNow":"now"),r("prettyDate.now"));else if(c<60){var f=Math.floor(c);d=r("prettyDate."+p+"Second",{count:f,seconds:f})}else if(c<3600){var m=Math.floor(c/60);d=r("prettyDate."+p+"Minute",{count:m,minutes:m})}else if(c<a){var _=Math.floor(c/3600);d=r("prettyDate."+p+"Hour",{count:_,hours:_})}else{var v=Math.floor(c/a);if(v<3)d=r("prettyDate."+p+"Day",{count:v,days:v});else if(i)d=new Intl.DateTimeFormat(o,{year:"numeric",month:"long",day:"numeric"}).format(t);else{var h=function(e,t,n,r){var o=e.getMonth()+1,i=xe(null==e?void 0:e.getFullYear());return e.getDate()+" "+t("prettyDate.months."+o+"."+r)+(n||!i?", "+e.getFullYear():"")}(t,r,n,p);if(n)d=h;else if(c<s){var g=Math.floor(c/a);d=r("prettyDate."+p+"Day",h,{count:g,days:g})}else if(c<u)d=r("prettyDate."+p+"Week",h,{count:v,weeks:Math.floor(c/s)});else if(c>=u){var y=Math.floor(c/u);d=r("prettyDate."+p+"Year",h,{count:y,years:y})}}}return d}function Ie(e,t,n){void 0===n&&(n="short");var r=e.getMonth()+1;return e.getDate()+" "+t("prettyDate.months."+r+"."+n)+", "+e.getFullYear()+" "+e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}var xe=function(e){return e===(new Date).getFullYear()},Ee={development:"https://admin.staging-spot.im/network/{NETWORK_NAME}",staging:"https://admin.staging-spot.im/network/{NETWORK_NAME}",production:"https://admin.spot.im/network/{NETWORK_NAME}",test:"https://admin.spot.im/network/{NETWORK_NAME}"}[function(){return window.__SPOTIMENV__||"production"}()],Pe=function(e){var t,n=e.dashboardType,r=void 0===n?"conversation":n,o=e.networkName,i=void 0===o?"spotim":o,a=e.spotId,s=e.conversationId,u=e.contentType,l=void 0===u?"conversation":u,c=e.userId,d=((t={}).conversation="comments",t.liveBlog="comments",t.post="posts",t),p=Ee.replace("{NETWORK_NAME}",i);return R().get("tenant_config.admin-panel."+("conversation"===r?"openDashboardUrl":"viewAllFromUserUrl"),p).replace("{SPOT_ID}",a).replace("{CONV_ID}",s).replace("{USER_ID}",c).replace("{CONTENT_TYPE}",d[l])},Te=function(){var e,t=R().get("queryParams.spot_im_highlight_immediate",!1),n=R().get("queryParams.spot_im_redirect_source",""),r=R().get("tenant_config.launcher.immediateConfig",[]),o="live-blog"===R().get("queryParams.ow_module"),i=null==r?void 0:r.find((function(e){return"conversation-page"===e.module}));return!o&&t&&n&&i&&!(null==i||null===(e=i.excludeSources)||void 0===e?void 0:e.includes(n))},Me=function(e){var t=e.lng,n=e.packageName,r=e.version,o=e.defaultTranslation;try{var i,a="https://static-cdn.spot.im/production/translations/"+n+"/v"+r,s=function(){if("en"===t)i=o;else{var e=function(){var e,o,s;if(!(null===(e=window.__SPOTIM__)||void 0===e||null===(o=e.translations)||void 0===o||null===(s=o[n])||void 0===s?void 0:s[r]))return Promise.resolve(fetch(a+"/"+t+"/translation.json")).then((function(e){return Promise.resolve(e.json()).then((function(e){var t,o,a;i=e,window.__SPOTIM__=ne({},window.__SPOTIM__,{translations:ne({},window.__SPOTIM__.translations,(a={},a[n]=ne({},null===(t=window.__SPOTIM__.translations)||void 0===t?void 0:t[n],(o={},o[r]=i,o)),a))})}))}));i=window.__SPOTIM__.translations[n][r]}();if(e&&e.then)return e.then((function(){}))}}();return Promise.resolve(s&&s.then?s.then((function(){return i})):i)}catch(e){return Promise.reject(e)}},Ce="SPOTIM_DEBUG_API",je=null;function Re(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=console).log.apply(t,["%cSpot.IM "+e,"background: #307fe2; color: white;"].concat(r))}function ke(e){var t=function(){try{if(null===je){var e=new URLSearchParams(le().search);if((je=e.get(Ce.toLowerCase()))||(je=window.SPOTIM_DEBUG_API),!je)try{je=window.localStorage.getItem(Ce)}catch(e){}je||(je=""),je=je.split(",").map((function(e){return e.toLowerCase()}))}return je}catch(e){return[]}}();return(null==t?void 0:t.indexOf("*"))>-1||(null==t?void 0:t.indexOf(e.toLowerCase()))>-1?Re.bind(null,e):function(){}}function Ne(e,t,n){void 0===n&&(n={history:!1}),(0,k.subscribe)("@spotim/internal/"+e,t,n)}function De(e,t){void 0===t&&(t={}),(0,k.dispatchOnce)("@spotim/internal/"+e,t)}function Le(e){if(e)return function(e,t){return t.reduce((function(e,t){return function(e,t){var n=e,r=e.indexOf("?");if(-1!==r){var o=e.substring(0,r),i=e.substring(r+1),a=new RegExp("&"+t+"(=[^&]*)?|^"+t+"(=[^&]*)?&?");n=o+((i=i.replace(a,"")).length>0?"?":"")+i}return n}(e,t)}),e)}(e,["utm_source","utm_medium","utm_content","prerender","spot_im_state","spot_im_comment_id","spot_im_reply_id","spot_im_expand_reply","spot_im_highlight_immediate","spot_im_scroll_to_comments","spot_im_source","spot_im_email_settings","spotim_referrer"])}function Be(){return ne({},R().get("elementOptions"),{href:Le(le().href),canonicalHref:Le((e=le().href,t="undefined"!=typeof document?document.querySelector("link[rel='canonical']"):void 0,t&&(e=t.href),e))});var e,t}function Ue(){return"object"==typeof window&&!!window.navigator.userAgent.toLocaleLowerCase().match(/(mobile|iemobile|android|webos|iphone|ipad|ipod|blackberry|windows phone)/)}var qe=function(e){return(null==e?void 0:e.dataset.postId)||R().get("postId","")},Fe=function(){function e(e,t,n,r){var o=this;this.attached=!0,this.type=t,this.handler=function(e){return n(e,o)},this.options=r,(this.target=e).addEventListener(this.type,this.handler,this.options)}return e.prototype.remove=function(){this.attached&&(this.target.removeEventListener(this.type,this.handler,this.options),this.attached=!1)},e}();function We(e){return function(t,n){e(t,n),n.remove()}}var Ge=function(e){var t,n;function r(t,n,r,o,i){var a;return((a=e.call(this,n,r,o,i)||this).registry=t).add(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(a)),a}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,re(t,n),r.prototype.remove=function(){this.registry.delete(this)&&e.prototype.remove.call(this)},r}(Fe),$e=function(){function e(){this.registry=new Set}var t=e.prototype;return t.attachListener=function(e,t,n,r){return new Ge(this.registry,e,t,n,r)},t.listenOnce=function(e,t,n,r){return this.attachListener(e,t,We(n),r)},t.removeAll=function(){this.registry.forEach((function(e){e.remove()}))},t.removeListener=function(e){return!!this.registry.has(e)&&(e.remove(),!0)},e}();function He(){return new $e}function Qe(e,t,n,r){return new Fe(e,t,n,r)}function ze(e,t,n,r){return Qe(e,t,We(n),r)}var Ve=function(){var e=[];return function(t){var n=t.target,r=void 0===n?document.body:n,o=t.url,i=t.content,a=t.async,s=void 0!==a&&a,u=t.attributes,l=void 0===u?{}:u;return new Promise((function(t,n){var a=document.createElement("script");function u(e){n("Failed to load "+e.target.src)}function c(n){t(n),e=e.filter((function(e){return e!==o}))}if(a.type="text/javascript",a.charset="UTF-8",o){var d=document.querySelector('script[src="'+o+'"]');if(d)return e.includes(o)?(d.addEventListener("load",c),void d.addEventListener("error",u)):t(d);e.push(o),a.addEventListener("load",c),a.addEventListener("error",u),a.src=o,a.async=s}if(i&&(a.text=i),l&&Object.entries(l).forEach((function(e){var t=e[0],n=e[1];return a.setAttribute(t,n)})),!o&&!i)return n('Failed to loadJSFile, because "url" and "content" are empty');r.appendChild(a)}))}}(),Ye=function(e){var t=Y(R().get("init_data.config.main_language","en"));return e.toLocaleString(t)}},3172:(e,t,n)=>{n.d(t,{GR:()=>r,jU:()=>o,Mx:()=>i,Ib:()=>a,fY:()=>s,cE:()=>u});const r='[data-spotim-module="conversation"]:not([data-spotim-not-for-self-bootstrapping])',o='[data-spot-im-module-default-area="conversation"]',i="ow-seo-optimized",a="OW_VIEWED_SEO_CONVERSATION",s="370px";let u;!function(e){e.LIKE="like",e.SHOW_MORE_REPLIES="show-more-replies",e.SHOW_MORE_COMMENTS="show-more-comments"}(u||(u={}))},4186:(e,t,n)=>{n.d(t,{q:()=>u});var r=n(5951),o=n.n(r),i=n(1146),a=n.n(i);const s=o().get("spotId"),u=a()(s,"conversation",{version:'"v3.54.6"'})},2017:(e,t,n)=>{n.d(t,{op:()=>o,ql:()=>i,Y6:()=>a,Mn:()=>c,dy:()=>d,GH:()=>p});var r=n(2519);const o="CONVERSATION_ATTRIBUTE_CHANGE";let i,a;!function(e){e.postId="data-post-id",e.moduleElementId="data-module-element-id",e.postUrl="data-post-url",e.articleTags="data-article-tags",e.theme="data-theme",e.readOnly="data-read-only",e.labelsSection="data-labels-section",e.authorId="data-author-id",e.ignoreQueryParams="data-ignore-query-params",e.autoFocus="data-auto-focus",e.socialReviews="data-social-reviews",e.spotImScrollToReply="data-spot-im-scroll-to-reply",e.spotImScrollToComment="data-spot-im-scroll-to-comment",e.spotimConversationPage="data-spotim-conversation-page",e.instanceId="data-instance-id",e.contentType="data-content-type",e.previewMode="data-preview-mode",e.autorun="data-spotim-autorun",e.loadMoreComments="data-load-more-comments"}(i||(i={})),function(e){e.Reload="reload",e.Rerender="rerender"}(a||(a={}));const s=new Set([i.postId,i.socialReviews,i.spotImScrollToComment,i.spotImScrollToReply]),u=new Set([i.theme,i.authorId]);function l(e,t){return t.some((t=>e.has(t.attributeName)))}function c(e){return e.map((e=>e.attributeName))}function d(e,t){l(u,t)&&(0,r.dispatch)(o,{element:e,attributes:t,type:a.Rerender}),l(s,t)&&(0,r.dispatch)(o,{element:e,attributes:t,type:a.Reload})}function p(e){return Object.keys(e.dataset).reduce(((t,n)=>i[n]?{...t,[n]:e.dataset[n]}:t),{})}},655:(e,t,n)=>{n.r(t),n.d(t,{__extends:()=>o,__assign:()=>i,__rest:()=>a,__decorate:()=>s,__param:()=>u,__metadata:()=>l,__awaiter:()=>c,__generator:()=>d,__createBinding:()=>p,__exportStar:()=>f,__values:()=>m,__read:()=>_,__spread:()=>v,__spreadArrays:()=>h,__await:()=>g,__asyncGenerator:()=>y,__asyncDelegator:()=>w,__asyncValues:()=>b,__makeTemplateObject:()=>A,__importStar:()=>S,__importDefault:()=>I,__classPrivateFieldGet:()=>x,__classPrivateFieldSet:()=>E});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function l(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var p=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function f(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||p(t,e,n)}function m(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function _(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(_(arguments[t]));return e}function h(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function y(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof g?Promise.resolve(n.value.v).then(u,l):c(i[0][2],n)}catch(e){c(i[0][3],e)}var n}function u(e){s("next",e)}function l(e){s("throw",e)}function c(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=m(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function A(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var O=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&p(t,e,n);return O(t,e),t}function I(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function E(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},5951:e=>{e.exports=window.__SPOTIM__.SERVICES.configProvider},1146:e=>{e.exports=window.__SPOTIM__.lib.MetricsReporter},8298:e=>{e.exports=window.__SPOTIM__.lib.ReactDom},3524:e=>{e.exports=window.__SPOTIM__.lib.analytics},9490:e=>{e.exports=window.__SPOTIM__.lib.bootstrapHelpers},8627:e=>{e.exports=window.__SPOTIM__.lib.classnames},4021:e=>{e.exports=window.__SPOTIM__.lib.currentUser},659:e=>{e.exports=window.__SPOTIM__.lib.globalObjectManager},3825:e=>{e.exports=window.__SPOTIM__.lib.i18next},5457:e=>{e.exports=window.__SPOTIM__.lib.produce},2519:e=>{e.exports=window.__SPOTIM__.lib.pubSub},9474:e=>{e.exports=window.__SPOTIM__.lib.react},6088:e=>{e.exports=window.__SPOTIM__.lib.reactI18next},9432:e=>{e.exports=window.__SPOTIM__.lib.reactPopperTooltip},6263:e=>{e.exports=window.__SPOTIM__.lib.reactRedux},5711:e=>{e.exports=window.__SPOTIM__.lib.reactTracking},1835:e=>{e.exports=window.__SPOTIM__.lib.realTime},9707:e=>{e.exports=window.__SPOTIM__.lib.redux},4751:e=>{e.exports=window.__SPOTIM__.lib.reduxActions},1755:e=>{e.exports=window.__SPOTIM__.lib.reduxThunk},8366:e=>{e.exports=window.__SPOTIM__.lib.request},1377:e=>{e.exports=window.__SPOTIM__.lib.timeSpent},3674:e=>{e.exports=window.__SPOTIM__.lib["fed-social"]["2.0.3"]}},s={};function u(e){var t=s[e];if(void 0!==t)return t.exports;var n=s[e]={exports:{}};return a[e].call(n.exports,n,n.exports,u),n.exports}u.m=a,u.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return u.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,u.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var o=Object.create(null);u.r(o);var i={};e=e||[null,t({}),t([]),t(t)];for(var a=2&r&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>i[e]=()=>n[e]));return i.default=()=>n,u.d(o,i),o},u.d=(e,t)=>{for(var n in t)u.o(t,n)&&!u.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},u.f={},u.e=e=>Promise.all(Object.keys(u.f).reduce(((t,n)=>(u.f[n](e,t),t)),[])),u.u=e=>e+"-bundle.js",u.miniCssF=e=>e+".css",u.miniCssF=e=>e+".css",u.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),u.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},r="@spotim/conversation:",u.l=(e,t,o,i)=>{if(n[e])n[e].push(t);else{var a,s;if(void 0!==o)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var d=l[c];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==r+o){a=d;break}}a||(s=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,u.nc&&a.setAttribute("nonce",u.nc),a.setAttribute("data-webpack",r+o),a.src=e),n[e]=[t];var p=(t,r)=>{a.onerror=a.onload=null,clearTimeout(f);var o=n[e];if(delete n[e],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((e=>e(r))),t)return t(r)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=p.bind(null,a.onerror),a.onload=p.bind(null,a.onload),s&&document.head.appendChild(a)}},u.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.p="https://static-cdn.spot.im/production/conversation/tags/v3.54.6/",o=e=>new Promise(((t,n)=>{var r=u.miniCssF(e),o=u.p+r;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var o=(a=n[r]).getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(o===e||o===t))return a}var i=document.getElementsByTagName("style");for(r=0;r<i.length;r++){var a;if((o=(a=i[r]).getAttribute("data-href"))===e||o===t)return a}})(r,o))return t();((e,t,n,r)=>{var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.onerror=o.onload=i=>{if(o.onerror=o.onload=null,"load"===i.type)n();else{var a=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.href||t,u=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");u.code="CSS_CHUNK_LOAD_FAILED",u.type=a,u.request=s,o.parentNode.removeChild(o),r(u)}},o.href=t,document.head.appendChild(o)})(e,o,t,n)})),i={main:0},u.f.miniCss=(e,t)=>{i[e]?t.push(i[e]):0!==i[e]&&{styles:1}[e]&&t.push(i[e]=o(e).then((()=>{i[e]=0}),(t=>{throw delete i[e],t})))},(()=>{var e={main:0};u.f.miniCss=(t,n)=>{e[t]?n.push(e[t]):0!==e[t]&&{styles:1}[t]&&n.push(e[t]=(e=>new Promise(((t,n)=>{var r=u.miniCssF(e),o=u.p+r;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var o=(a=n[r]).getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(o===e||o===t))return a}var i=document.getElementsByTagName("style");for(r=0;r<i.length;r++){var a;if((o=(a=i[r]).getAttribute("data-href"))===e||o===t)return a}})(r,o))return t();((e,t,n,r)=>{var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.onerror=o.onload=i=>{if(o.onerror=o.onload=null,"load"===i.type)n();else{var a=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.href||t,u=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");u.code="CSS_CHUNK_LOAD_FAILED",u.type=a,u.request=s,o.parentNode.removeChild(o),r(u)}},o.href=t,function(){var e=arguments[0],t={tag:"conversation@v3.54.6",version:"v3.54.6",moduleName:"conversation",attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation","data-spot-im-style-module-version":"v3.54.6"}},n=t.tag,r=t.version,o=t.moduleName,i=t.attributes;Object.entries(i).forEach((([t,n])=>e.setAttribute(t,n))),window.__SPOTIM__&&window.__SPOTIM__.attachStyle?window.__SPOTIM__.attachStyle({tag:n,version:r,moduleName:o,stylesheetElement:e}):document.head.appendChild(e)}(o)})(e,o,t,n)})))(t).then((()=>{e[t]=0}),(n=>{throw delete e[t],n})))}})(),(()=>{var e={main:0};u.f.j=(t,n)=>{var r=u.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,o)=>r=e[t]=[n,o]));n.push(r[2]=o);var i=u.p+u.u(t),a=new Error;u.l(i,(n=>{if(u.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",a.name="ChunkLoadError",a.type=o,a.request=i,r[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,o,i=n[0],a=n[1],s=n[2],l=0;for(r in a)u.o(a,r)&&(u.m[r]=a[r]);for(s&&s(u),t&&t(n);l<i.length;l++)o=i[l],u.o(e,o)&&e[o]&&e[o][0](),e[i[l]]=0},n=self.webpackChunk_spotim_conversation=self.webpackChunk_spotim_conversation||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{var e=u(9490),t=u(5951),n=u.n(t),r=u(2017),o=u(4186),i=u(3172),a=u(4984);const s=["spot_reset_password","spot_ticket","spot_im_verify","spot_im_scroll_to_comments","spot_im_expand_reply","spot_im_load_app_immediately","spot_im_comment_id","spot_im_reply_id","spot_im_highlight_immediate"];function l({host:e,spotId:t,postId:n,instanceId:r,asyncCallBaseConfig:i}){e.isConnected&&(e.hasAttribute("data-element-booted")||(e.setAttribute("data-element-booted","true"),o.q.apm.start("critical_flow"),Promise.all([u.e("styles"),u.e("vendors-node_modules_spotim_content-entities_dist_index_js-node_modules_spotim_request-v1_dis-b54a39"),u.e("vendors-node_modules_spotim_message_dist_index_js"),u.e("app_conversation_components_Main_tsx"),u.e("preRender"),u.e("boot")]).then(u.bind(u,2378)).then((({boot:o})=>{o({element:e,spotId:t,postId:n,instanceId:r,asyncCallBaseConfig:i})}))))}let c=!1;const d=n().get("tenant_config.conversation.enable_prefetch_assets");function p(e){e.setAttribute("data-element-initialized","true");const t=e.dataset.spotId||n().get("spotId","");e.style.minHeight=i.fY,function({host:e,postId:t,spotId:r,instanceId:o}){const i=(0,a.getAsyncCallConfigs)();new IntersectionObserver(((n,a)=>{n[0].isIntersecting&&(l({host:e,spotId:r,postId:t,instanceId:o,asyncCallBaseConfig:i}),a.disconnect())}),{threshold:[.01],rootMargin:"0px"}).observe(e),(()=>{const e=n().get("queryParams");return s.some((t=>e.hasOwnProperty(t)))})()||e.hasAttribute("data-load-immediate")?l({host:e,spotId:r,postId:t,instanceId:o,asyncCallBaseConfig:i}):(0,a.initScrollListener)(l,{host:e,spotId:r,postId:t,instanceId:o,asyncCallBaseConfig:i})}({host:e,spotId:t,postId:e.dataset.postId||"",instanceId:e.dataset.instanceId||""}),e.dataset.postId||o.q.error("renderAtElement","no post id provided to conversation")}function f(e){window.__SPOTIM__&&window.__SPOTIM__.terminateConversation&&window.__SPOTIM__.terminateConversation(e)}!function(){if(c)return;d&&(Promise.all([u.e("styles"),u.e("vendors-node_modules_spotim_content-entities_dist_index_js-node_modules_spotim_request-v1_dis-b54a39"),u.e("vendors-node_modules_spotim_message_dist_index_js"),u.e("app_conversation_components_Main_tsx"),u.e("preRender"),u.e("boot")]).then(u.bind(u,2378)),Promise.all([u.e("styles"),u.e("vendors-node_modules_spotim_content-entities_dist_index_js-node_modules_spotim_request-v1_dis-b54a39"),u.e("vendors-node_modules_spotim_message_dist_index_js"),u.e("vendors-node_modules_spotim_draft-message-utils_dist_draft-message-utils_draft-message-utils_-165854"),u.e("app_conversation_components_Main_tsx"),u.e("conversation-component")]).then(u.bind(u,9711)),Promise.all([u.e("styles"),u.e("vendors-node_modules_spotim_content-entities_dist_index_js-node_modules_spotim_request-v1_dis-b54a39"),u.e("app_conversation_components_Main_tsx"),u.e("preRender")]).then(u.bind(u,1913)));const t=document.getElementById(i.Mx);t&&(e=>{try{if(localStorage.getItem(i.Ib)){const t=document.querySelector(i.GR);e.remove(),t&&(t.style.display="block")}}catch(e){}})(t),(0,e.reactToElement)({selector:`${i.GR}`,onAdded:e=>{p(e);const t=document.querySelector(`${i.jU}[data-post-id="${e.dataset.postId}"]`);!e.hasAttribute("data-spotim-conversation-page")&&t&&f(t)},onAttributesChanged:r.dy,onRemoved:e=>{if(f(e),document.querySelector(`${i.GR}[data-post-id="${e.dataset.postId}"]`))return;const t=document.querySelector(`[data-spot-im-module-default-area="conversation"][data-post-id="${e.dataset.postId}"], [data-spotim-module-default-area="conversation"][data-post-id="${e.dataset.postId}"]`);!e.hasAttribute("data-spotim-conversation-page")&&t&&p(t)}}),(0,e.reactToElement)({selector:`${i.jU}`,onAdded:e=>{e.getAttribute("data-element-initialized")||document.querySelector(`${i.GR}[data-post-id="${e.dataset.postId}"]:not([data-spotim-conversation-page])`)||p(e)},onAttributesChanged:e=>{},onRemoved:e=>{f(e)}}),c=!0,window.__SPOTIM__=window.__SPOTIM__||{},window.__SPOTIM__.initConversation=e=>{},window.__SPOTIM__.terminateConversation=e=>Promise.resolve().then(u.t.bind(u,8298,23)).then((t=>{e.removeAttribute("data-element-initialized"),t.unmountComponentAtNode(e)}))}()})()})();
//# sourceMappingURL=conversation-bundle.js.map